# XposeMobileApp - Visual Architecture Guide

---

## ğŸ—ï¸ Layered Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PRESENTATION LAYER                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Screens (5)                                     â”‚  â”‚
â”‚  â”‚  â”œâ”€ SearchScreenModern    (Home)                 â”‚  â”‚
â”‚  â”‚  â”œâ”€ CustomerDetailsScreen (Profile)              â”‚  â”‚
â”‚  â”‚  â”œâ”€ CreateInvoiceScreen   (Forms)                â”‚  â”‚
â”‚  â”‚  â”œâ”€ ServerSetupScreen     (Config)               â”‚  â”‚
â”‚  â”‚  â””â”€ SearchScreen          (Legacy)               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–²
                          â”‚ Uses
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               UI COMPONENTS LAYER                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Modern UI Library                              â”‚   â”‚
â”‚  â”‚ â”œâ”€ ModernButton        â”œâ”€ ModernInput         â”‚   â”‚
â”‚  â”‚ â”œâ”€ ModernCard          â”œâ”€ ModernSearchBar     â”‚   â”‚
â”‚  â”‚ â”œâ”€ ModernModal         â”œâ”€ ModernBadge         â”‚   â”‚
â”‚  â”‚ â”œâ”€ ModernLoading       â”œâ”€ ModernEmptyState    â”‚   â”‚
â”‚  â”‚ â””â”€ ModernToast                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Business Components                            â”‚   â”‚
â”‚  â”‚ â”œâ”€ CustomerCard        â”œâ”€ AddCustomerModal    â”‚   â”‚
â”‚  â”‚ â”œâ”€ QadAndamList        â”œâ”€ AddQadAndamModal    â”‚   â”‚
â”‚  â”‚ â”œâ”€ InvoiceList         â”œâ”€ InvoiceForm         â”‚   â”‚
â”‚  â”‚ â”œâ”€ PaymentModal        â”œâ”€ BarcodeScanner      â”‚   â”‚
â”‚  â”‚ â””â”€ SendMessageModal                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–²
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              STATE MANAGEMENT LAYER                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Zustand Stores                               â”‚     â”‚
â”‚  â”‚ â”œâ”€ customerStore  (Customer data)            â”‚     â”‚
â”‚  â”‚ â”œâ”€ searchStore    (Search functionality)     â”‚     â”‚
â”‚  â”‚ â””â”€ invoiceStore   (Invoice management)       â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–²
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              BUSINESS LOGIC LAYER                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Services & Utilities                         â”‚     â”‚
â”‚  â”‚ â”œâ”€ api.js              â”œâ”€ errorHandler.js   â”‚     â”‚
â”‚  â”‚ â”œâ”€ smsService.js       â”œâ”€ validators.js     â”‚     â”‚
â”‚  â”‚ â”œâ”€ storage.js          â”œâ”€ formatters.js     â”‚     â”‚
â”‚  â”‚ â””â”€ serverConfigService                      â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–²
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API LAYER                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Axios HTTP Client                            â”‚     â”‚
â”‚  â”‚ â”œâ”€ /v1/customers                             â”‚     â”‚
â”‚  â”‚ â”œâ”€ /v1/qad-andam                             â”‚     â”‚
â”‚  â”‚ â”œâ”€ /v1/messages                              â”‚     â”‚
â”‚  â”‚ â””â”€ Authentication (Bearer Token)             â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–²
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  BACKEND SERVER                        â”‚
â”‚  RESTful API (Node.js / Express / etc)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Screen Navigation Flow

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  App Launches    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Check Setup      â”‚
                    â”‚  Async Storage    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                   â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ First Run?     â”‚   â”‚ Setup Complete? â”‚
            â”‚ YES            â”‚   â”‚ YES             â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚                   â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”˜
         â”‚                              â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ServerSetup   â”‚           â”‚ SearchScreenMod   â”‚
    â”‚ Screen        â”‚           â”‚ (HOME)            â”‚
    â”‚               â”‚           â”‚                   â”‚
    â”‚ â€¢ URL Input   â”‚           â”‚ â€¢ Search bar      â”‚
    â”‚ â€¢ URL Valid   â”‚           â”‚ â€¢ Customer List   â”‚
    â”‚ â€¢ Save Config â”‚           â”‚ â€¢ Barcode scan    â”‚
    â”‚ â€¢ Init API    â”‚           â”‚ â€¢ Add Customer    â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚                         â”‚          â”‚
         â”‚ Setup OK               â”‚ Select   â”‚ Add
         â”‚                        â”‚ Customer â”‚ New
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
                   â”‚                         â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
           â”‚ SearchScreen OK? â”‚              â”‚
           â”‚ Repeat Search    â”‚              â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
                   â”‚                         â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
       â”‚                                 â”‚
       â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”
       â”‚              â”‚ AddCustomerModal    â”‚
       â”‚              â”‚                     â”‚
       â”‚              â”‚ â€¢ Form fields       â”‚
       â”‚              â”‚ â€¢ Validation        â”‚
       â”‚              â”‚ â€¢ API POST          â”‚
       â”‚              â”‚ â€¢ Toast notify      â”‚
       â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”˜
       â”‚                                 â”‚
    â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ CustomerDetailsScreen              â”‚
    â”‚                                    â”‚
    â”‚ â€¢ Customer Info                    â”‚
    â”‚ â€¢ QAD Andam List                   â”‚
    â”‚ â€¢ Invoice List                     â”‚
    â”‚ â€¢ Balance Display                  â”‚
    â”‚                                    â”‚
    â”‚ Actions:                           â”‚
    â”‚ â”œâ”€ Add QAD Andam                  â”‚
    â”‚ â”œâ”€ Record Payment                 â”‚
    â”‚ â”œâ”€ Create Invoice                 â”‚
    â”‚ â””â”€ Back to Search                 â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”˜
         â”‚                            â”‚
         â”‚ Create Invoice             â”‚
         â”‚                            â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
    â”‚ CreateInvoiceScreen            â”‚â”‚
    â”‚                                â”‚â”‚
    â”‚ â€¢ Invoice Form                 â”‚â”‚
    â”‚ â€¢ Line Items                   â”‚â”‚
    â”‚ â€¢ Auto Calculations            â”‚â”‚
    â”‚ â€¢ Submit & Back                â”‚â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
                                       â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
              â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Back to List  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ Design System Hierarchy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 DESIGN SYSTEM                          â”‚
â”‚                 (modernTheme.js)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚             â”‚              â”‚
         â–¼             â–¼              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Colors â”‚    â”‚ Spacingâ”‚    â”‚ Typography
    â”‚        â”‚    â”‚        â”‚    â”‚          â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚Primary â”‚    â”‚ xs:4px â”‚    â”‚Display   â”‚
    â”‚ #0066FFâ”‚    â”‚ sm:8px â”‚    â”‚36px-700  â”‚
    â”‚        â”‚    â”‚ md:12  â”‚    â”‚          â”‚
    â”‚Secondary   â”‚ lg:16  â”‚    â”‚Headline  â”‚
    â”‚#00BCD4â”‚    â”‚ xl:20  â”‚    â”‚22px-600  â”‚
    â”‚        â”‚    â”‚ xxl:24 â”‚    â”‚          â”‚
    â”‚Success â”‚    â”‚xxxl:32 â”‚    â”‚Body      â”‚
    â”‚#4CAF50â”‚    â”‚        â”‚    â”‚16px-400  â”‚
    â”‚        â”‚    â”‚Radius  â”‚    â”‚          â”‚
    â”‚Warning â”‚    â”‚xs:4px  â”‚    â”‚Label     â”‚
    â”‚#FFA726â”‚    â”‚sm:8px  â”‚    â”‚14px-500  â”‚
    â”‚        â”‚    â”‚md:12   â”‚    â”‚          â”‚
    â”‚Error   â”‚    â”‚lg:16   â”‚    â”‚Shadows   â”‚
    â”‚#F44336â”‚    â”‚xl:20   â”‚    â”‚S/M/L     â”‚
    â”‚        â”‚    â”‚full    â”‚    â”‚          â”‚
    â”‚Neutral â”‚    â”‚        â”‚    â”‚          â”‚
    â”‚etc     â”‚    â”‚        â”‚    â”‚          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚             â”‚              â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Applied to Components  â”‚
         â”‚                         â”‚
         â”‚  â”œâ”€ ModernButton       â”‚
         â”‚  â”œâ”€ ModernCard         â”‚
         â”‚  â”œâ”€ ModernInput        â”‚
         â”‚  â”œâ”€ ModernModal        â”‚
         â”‚  â”œâ”€ ModernBadge        â”‚
         â”‚  â””â”€ ... all UI comps   â”‚
         â”‚                         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Action     â”‚ (Tap button, type search, etc)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Screen Handler  â”‚ (onClick, onChange, etc)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Zustand Store Action    â”‚ (searchStore.searchCustomer)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Service Call            â”‚ (api.searchCustomers)
â”‚  (with validation)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Axios HTTP Request      â”‚
â”‚  â”œâ”€ Interceptor: Add Token
â”‚  â”œâ”€ Interceptor: Init API
â”‚  â””â”€ Send to Server       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BACKEND SERVER          â”‚ (RESTful API)
â”‚  â”œâ”€ Authentication       â”‚
â”‚  â”œâ”€ Business Logic       â”‚
â”‚  â””â”€ Database             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API Response            â”‚ ({data: [], success: true})
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Zustand Store Update    â”‚ (setState)
â”‚  searchResults = [...]   â”‚
â”‚  loading = false         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Component Re-render     â”‚ (via hook)
â”‚  const {results} =       â”‚
â”‚    useSearchStore()      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Updated UI Display      â”‚ (FlatList renders results)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  App Starts     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Check Stored Token    â”‚
â”‚  AsyncStorage.getItem  â”‚
â”‚  ('token')             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
    â”‚            â”‚
 YESâ”‚            â”‚NO
    â”‚            â”‚
    â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Use Tokenâ”‚ â”‚ No Token â”‚
â”‚          â”‚ â”‚ = Public â”‚
â”‚ Add to   â”‚ â”‚          â”‚
â”‚ Bearer   â”‚ â”‚ Request  â”‚
â”‚ Header   â”‚ â”‚ sent     â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â”‚ without  â”‚
     â”‚       â”‚ auth     â”‚
     â”‚       â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚          â”‚
     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API Request     â”‚
â”‚  â”œâ”€ URL          â”‚
â”‚  â”œâ”€ Params       â”‚
â”‚  â”œâ”€ Headers      â”‚
â”‚  â”‚ (Bearer Token)
â”‚  â””â”€ Data         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Server Verifies â”‚
â”‚  Token           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
    â”‚            â”‚
  âœ“â”‚            â”‚âœ—
    â”‚            â”‚
    â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Proceed  â”‚ â”‚ 401      â”‚
â”‚ Request  â”‚ â”‚ Unauth   â”‚
â”‚          â”‚ â”‚ Reject   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¾ Local Storage Structure

```
AsyncStorage
â”‚
â”œâ”€ SERVER_SETUP_COMPLETE
â”‚  â””â”€ "true" / "false"
â”‚
â”œâ”€ SERVER_URL
â”‚  â””â”€ "http://server.com:3000"
â”‚
â”œâ”€ token
â”‚  â””â”€ "eyJhbGciOiJIUzI1NiIs..."
â”‚
â”œâ”€ SEARCH_HISTORY
â”‚  â””â”€ [{id, term, timestamp}, ...]
â”‚
â”œâ”€ CUSTOMER_CACHE
â”‚  â””â”€ {customerId: customerData}
â”‚
â””â”€ USER_PREFERENCES
   â”œâ”€ theme
   â”œâ”€ language
   â””â”€ notifications
```

---

## ğŸ§ª Component Composition Example

### SearchScreenModern Composition:

```
SearchScreenModern
â”‚
â”œâ”€ SafeAreaView (wrapper)
â”‚  â”‚
â”‚  â”œâ”€ View (header)
â”‚  â”‚  â”œâ”€ ModernSearchBar
â”‚  â”‚  â”‚  â””â”€ ModernInput
â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€ View (buttons row)
â”‚  â”‚     â”œâ”€ ModernButton (Scan)
â”‚  â”‚     â””â”€ ModernButton (Add)
â”‚  â”‚
â”‚  â”œâ”€ FlatList (main content)
â”‚  â”‚  â””â”€ CustomerCard (per item)
â”‚  â”‚     â”œâ”€ ModernCard
â”‚  â”‚     â”‚  â”œâ”€ Text (name)
â”‚  â”‚     â”‚  â”œâ”€ Text (phone)
â”‚  â”‚     â”‚  â”œâ”€ ModernBadge (balance)
â”‚  â”‚     â”‚  â””â”€ ModernButton (message)
â”‚  â”‚     â”‚     â””â”€ SendMessageModal
â”‚  â”‚     â”‚        â””â”€ ModernModal
â”‚  â”‚     â”‚           â”œâ”€ ModernInput
â”‚  â”‚     â”‚           â””â”€ ModernButton
â”‚  â”‚     â”‚
â”‚  â”‚     â””â”€ Touch handlers
â”‚  â”‚
â”‚  â”œâ”€ ModernEmptyState (no results)
â”‚  â”‚  â””â”€ ModernLoading (loading state)
â”‚  â”‚
â”‚  â””â”€ Modal Portals
â”‚     â”œâ”€ BarcodeScanner
â”‚     â”œâ”€ AddCustomerModal
â”‚     â””â”€ SendMessageModal
â”‚
â””â”€ useFocusEffect (lifecycle)
   â””â”€ searchStore.clearSearch()
```

---

## ğŸ“ˆ State Management Flow

```
Screen Component
       â”‚
       â”œâ”€ useSearchStore()
       â”‚  â”œâ”€ searchTerm
       â”‚  â”œâ”€ searchResults
       â”‚  â””â”€ setSearchTerm()
       â”‚
       â”œâ”€ useCustomerStore()
       â”‚  â”œâ”€ selectedCustomer
       â”‚  â”œâ”€ qadAndams
       â”‚  â”œâ”€ invoices
       â”‚  â””â”€ selectCustomer()
       â”‚
       â””â”€ useInvoiceStore()
          â”œâ”€ invoices
          â”œâ”€ selectedInvoice
          â””â”€ createInvoice()

When user action â†’ Store updates â†’ Component re-renders
```

---

## ğŸš€ Performance Optimizations

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Performance Optimization Layers     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. Bundle Size
   â”œâ”€ Hermes Engine (15MB saved)
   â”œâ”€ ProGuard Obfuscation (12MB saved)
   â”œâ”€ No native-base (-15MB)
   â””â”€ Metro minification (10MB saved)

2. Rendering
   â”œâ”€ FlatList with keyExtractor
   â”œâ”€ Memoization of components
   â”œâ”€ useFocusEffect for data refresh
   â””â”€ useCallback for event handlers

3. Storage
   â”œâ”€ AsyncStorage for settings
   â”œâ”€ Cache customer data
   â””â”€ Local search history

4. API
   â”œâ”€ Request deduplication
   â”œâ”€ Error handling with retry
   â”œâ”€ Token management
   â””â”€ Pagination support
```

---

## ğŸ“š File Dependencies

```
SearchScreenModern.js
â”œâ”€ CustomerDetailsScreen.js
â”‚  â”œâ”€ useCustomerStore
â”‚  â”œâ”€ PaymentModal
â”‚  â”œâ”€ QadAndamList
â”‚  â”œâ”€ InvoiceList
â”‚  â””â”€ api.js (recordPayment)
â”‚
â”œâ”€ CreateInvoiceScreen.js
â”‚  â”œâ”€ useInvoiceStore
â”‚  â”œâ”€ InvoiceForm
â”‚  â””â”€ api.js (createInvoice)
â”‚
â”œâ”€ ModernSearchBar
â”‚  â””â”€ ModernInput
â”‚
â”œâ”€ CustomerCard
â”‚  â”œâ”€ ModernCard
â”‚  â”œâ”€ ModernBadge
â”‚  â””â”€ ModernButton
â”‚
â”œâ”€ BarcodeScanner
â”‚  â””â”€ expo-camera
â”‚
â””â”€ AddCustomerModal
   â”œâ”€ ModernModal
   â”œâ”€ ModernInput
   â”œâ”€ ModernButton
   â””â”€ api.js (createCustomer)
```

This completes the comprehensive visual architecture guide!